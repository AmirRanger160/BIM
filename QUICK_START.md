# ğŸš€ Quick Start Guide - Built Vue.js Project

## What Changed?

Your project is now configured to serve the **built Vue.js frontend** directly from the **FastAPI backend**. This means:

âœ… **Single Server** - No need for separate frontend and backend servers in production  
âœ… **No CORS Issues** - Frontend and API are on the same origin  
âœ… **Simpler Deployment** - Deploy just the backend  
âœ… **Better Performance** - Assets served with optimized headers  

---

## âš¡ Quick Commands

### Build the Frontend (Required Once)
```bash
npm run build
```
This generates the `dist/` folder with all your Vue.js app compiled to HTML/JS/CSS.

### Run the Backend (Serves Everything)
```bash
cd backend
python main.py
```
Access everything on **http://localhost:8000**

### All-in-One Command
```bash
npm start
```
Automatically builds frontend and starts backend.

---

## ğŸ—ï¸ How It Works

### Project Structure
```
Your Project
â”œâ”€â”€ src/                    # Vue.js source code
â”œâ”€â”€ dist/                   # Built frontend (generated by npm run build)
â”‚   â”œâ”€â”€ index.html         # Main HTML file
â”‚   â”œâ”€â”€ assets/            # JS and CSS files
â”‚   â””â”€â”€ robots.txt         # SEO
â””â”€â”€ backend/               # FastAPI server
    â””â”€â”€ main.py            # Serves frontend + API
```

### Request Flow
```
User visits: http://localhost:8000/
    â†“
FastAPI Backend
    â†“
Serves dist/index.html
    â†“
Browser loads Vue.js app
    â†“
App makes API calls to /api/*
    â†“
FastAPI handles API requests
```

---

## ğŸ”„ Workflow

### Development
```bash
# Terminal 1: Build frontend (watch for changes)
npm run build

# Terminal 2: Run backend
cd backend && python main.py

# Visit: http://localhost:8000
```

### Production
```bash
# One-time setup
npm run build

# Start server
cd backend && python main.py

# Everything runs on port 8000
```

---

## ğŸ“‹ File Changes Made

### âœ¨ Backend (main.py)
```python
# Added: Mount assets
app.mount("/assets", StaticFiles(directory="dist/assets"))

# Added: Serve index.html at root
@app.get("/")
def root():
    return FileResponse("dist/index.html")

# Added: Catch-all for SPA routing
@app.get("/{full_path:path}")
def serve_spa(full_path):
    return FileResponse("dist/index.html")

# Added: SEO files
@app.get("/robots.txt")
@app.get("/sitemap.xml")
```

### âœ¨ Frontend Config (vite.config.js)
```javascript
build: {
  outDir: 'dist',           # Output folder
  assetsDir: 'assets',      # Assets subfolder
  minify: 'terser',         # Minification
  sourcemap: false          # No source maps in prod
}
```

### âœ¨ Scripts (package.json)
```json
"build": "vite build",                    # Build frontend
"build:prod": "npm run build && echo...", # Build with message
"backend": "cd backend && python main.py", # Run backend
"start": "npm run build && npm run backend" # Build + Run
```

---

## ğŸ¯ Common Tasks

### View the App
```bash
npm run build          # Build if not done
cd backend && python main.py
# Open: http://localhost:8000
```

### Make Changes to Frontend
```bash
# Edit src/ files
npm run build          # Rebuild
# Refresh browser (F5)
```

### Make Changes to Backend
```bash
# Edit backend/ files
# Restart the server (Ctrl+C, run again)
cd backend && python main.py
```

### Check Build Size
```bash
ls -lh dist/assets/
```

### Deploy to Production
```bash
# Build
npm run build

# Copy to server
scp -r dist/ backend/ user@server:/app/

# On server:
cd backend && python main.py
```

---

## ğŸ” Troubleshooting

### "Frontend not found" Error
```bash
# Solution: Build the frontend first
npm run build
```

### API Calls Failing
```bash
# Check backend is running
lsof -i :8000

# Check browser console (F12)
# Check network tab for requests
```

### Port Already in Use
```bash
# Kill process on port 8000
lsof -i :8000
kill -9 <PID>
```

### CSS/JS Not Loading
```bash
# Clear browser cache (Ctrl+Shift+Delete)
# Rebuild frontend
npm run build
```

---

## ğŸ“Š Performance

| Metric | Value |
|--------|-------|
| Frontend Bundle | ~320 KB |
| CSS Minified | ~26 KB (gzip) |
| Build Time | ~3 seconds |
| Server Startup | <1 second |
| Asset Load | Optimized (cache headers) |

---

## ğŸŒ Deployment Options

### Local Development
```bash
npm run build && cd backend && python main.py
```

### Docker
```bash
docker build -f backend/Dockerfile -t bim-app .
docker run -p 8000:8000 bim-app
```

### Linux Server
```bash
npm run build
nohup python backend/main.py &
```

### Cloud (AWS, Google Cloud, etc.)
```bash
npm run build
deploy backend/ dist/
```

---

## ğŸ“š More Information

- **Full Guide**: See [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)
- **Backend Setup**: See [backend/README.md](backend/README.md)
- **Frontend Code**: See [src/](src/)

---

## âœ… Checklist

Before deployment:
- [ ] Run `npm run build` successfully
- [ ] Backend starts without errors
- [ ] Frontend loads at http://localhost:8000
- [ ] API calls work (check admin panel)
- [ ] Database initialized
- [ ] Admin credentials set

---

**Happy coding!** ğŸ‰

For questions or issues, check the logs:
```bash
# Terminal 1: Build output
npm run build

# Terminal 2: Server logs
cd backend && python main.py
# Watch for "âœ… Frontend assets mounted from..."
```
